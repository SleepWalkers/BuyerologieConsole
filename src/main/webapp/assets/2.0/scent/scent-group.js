define(function(require, exports, module) {	var common = require("base/common");	var tmpl = require("tpl");	common.renderForm();	var scentGroup = {		init : function() {			var self = this;			self._initSelectScentGroup();			self._initSaveScentGroup();		},		_initSelectScentGroup : function() {			$("#J_ScentGroupSelect").wijcombobox({				changed : function() {					$("#J_ScentForm")[0].submit();				}			});		},		_initSaveScentGroup:function(){			var scentGroupList = $("#J_ScentGroupList");			if(!scentGroupList) return;			scentGroupList.delegate(".j_ScentGroupSave", "click", function(e) {				e.preventDefault();				var $scent  = $(this).parents(".j_Scent");				var scentId = $.trim($scent.attr("data-id"));				var selectedScentGroupIds = [];				var $scentGroupInputList = $scent.find(".j_ScentGroupInput");				$scentGroupInputList.each(function(index, input){					if(input.checked == true){						selectedScentGroupIds.push(input.value);					}				})				var saveData = {					scentId: scentId,					scentGroupIds : selectedScentGroupIds.join(',')				};				$.get(common.api.saveScentGroup, saveData, function(result) {					if (!result.isSuccess) {						alert("发生系统错误，保存成分分组失败，请稍后重试~");						return;					}					var mark = $scent.find(".j_ScentGroupMark");					mark.removeClass("scent-group-mark-unsave")							.addClass("scent-group-mark-saved");					setTimeout(function() {								mark.removeClass("scent-group-mark-saved");							}, 1000);				}, "json").fail(function() {							alert("发生系统错误，保存成分分组失败，请稍后重试~");						});			});		}	};	return scentGroup;});